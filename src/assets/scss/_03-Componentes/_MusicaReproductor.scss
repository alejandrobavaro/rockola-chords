// ============================================
// ARCHIVO: _MusicaReproductor.scss - VERSIÓN ULTRA COMPACTA
// OBJETIVO: Reducir altura del reproductor de ~72px a ~48px
// CAMBIOS: 
// 1. Paddings reducidos drásticamente
// 2. Elementos más pequeños (botones, texto)
// 3. Menos espacio entre elementos
// 4. Manteniendo funcionalidad completa
// ============================================

.reproductor-header-compacto {
  width: 100%;
  background: rgba(42, 42, 42, 0.95); // #2a2a2a con opacidad
  backdrop-filter: blur(10px);
  border-radius: 12px;
  padding: 0.375rem 0.625rem; // Reducido de 0.75rem 1rem
  border: 1px solid rgba(230, 57, 70, 0.2); // Rojo principal
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  margin-top: 0.25rem;

  .reproductor-contenido-compacto {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem; // Reducido de 1rem
    height: 36px; // Reducido de 40px

    /* === CONTROLES IZQUIERDOS COMPACTOS === */
    .reproductor-controls-left-compacto {
      display: flex;
      align-items: center;
      gap: 0.25rem; // Reducido de 0.5rem
      flex-shrink: 0;

      .control-btn-compacto {
        width: 30px; // Reducido de 36px
        height: 30px; // Reducido de 36px
        border-radius: 8px; // Reducido de 12px
        border: none;
        background: rgba(68, 68, 68, 0.6); // Más sutil
        color: #f8f9fa; // Blanco
        font-size: 0.875rem; // Reducido de 1rem
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.15s ease;
        padding: 0;

        &:hover:not(:disabled) {
          background: rgba(108, 117, 125, 0.8); // #6c757d con opacidad
          transform: translateY(-1px);
        }

        &:active:not(:disabled) {
          transform: translateY(0);
        }

        &:disabled {
          opacity: 0.2;
          cursor: not-allowed;
        }

        &.control-play-compacto {
          width: 34px; // Reducido de 42px
          height: 34px; // Reducido de 42px
          background: linear-gradient(135deg, #e63946, #118ab2); // Rojo a Azul
          color: white;
          font-size: 1rem; // Reducido de 1.3rem

          &:hover:not(:disabled) {
            background: linear-gradient(135deg, #c1121f, #0a6d8e); // Rojo oscuro a Azul oscuro
            box-shadow: 0 1px 6px rgba(230, 57, 70, 0.3); // Más sutil
          }
        }

        &.control-prev-compacto,
        &.control-next-compacto {
          background: rgba(230, 57, 70, 0.12); // Más sutil
          color: #e63946; // Rojo principal
          font-size: 0.9rem; // Reducido de 1.1rem
        }
      }
    }

    /* === CONTROLES CENTRO COMPACTOS === */
    .reproductor-controls-center-compacto {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      gap: 0.25rem; // Reducido de 0.375rem

      .tiempo-display-compacto {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.25rem; // Reducido de 0.375rem
        font-size: 0.75rem; // Reducido de 0.85rem
        font-weight: 600;

        .tiempo-actual-compacto {
          color: #e63946; // Rojo principal
          min-width: 38px; // Reducido de 45px
          text-align: right;
        }

        .tiempo-separador-compacto {
          color: rgba(173, 181, 189, 0.7); // Más sutil
        }

        .tiempo-total-compacto {
          color: rgba(173, 181, 189, 0.9); // Más sutil
          min-width: 38px; // Reducido de 45px
          text-align: left;
        }
      }

      .progreso-container-compacto {
        position: relative;
        height: 5px; // Reducido de 8px
        border-radius: 2.5px; // Reducido de 4px
        background: rgba(68, 68, 68, 0.15); // Más sutil
        cursor: pointer;
        overflow: hidden;
        user-select: none;

        .progreso-track-compacto {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: transparent;
        }

        .progreso-bar-compacto {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          background: linear-gradient(90deg, #e63946, #118ab2); // Rojo a Azul
          border-radius: 2.5px;
          transition: width 0.08s linear;
          pointer-events: none;
        }

        .progreso-thumb-compacto {
          position: absolute;
          top: 50%;
          transform: translate(-50%, -50%);
          width: 10px; // Reducido de 14px
          height: 10px;
          background: white;
          border-radius: 50%;
          border: 1px solid #e63946; // Reducido de 2px
          box-shadow: 0 0 4px rgba(230, 57, 70, 0.4); // Más sutil
          opacity: 0;
          transition: opacity 0.15s ease;
          pointer-events: none;
          z-index: 2;
        }

        &:hover {
          .progreso-thumb-compacto {
            opacity: 1;
          }
        }

        &:active {
          .progreso-thumb-compacto {
            opacity: 1;
          }
        }
      }
    }

    /* === CONTROLES DERECHOS COMPACTOS === */
    .reproductor-controls-right-compacto {
      display: flex;
      align-items: center;
      gap: 0.5rem; // Reducido de 0.75rem
      flex-shrink: 0;

      .volumen-control-compacto {
        display: flex;
        align-items: center;
        gap: 0.375rem; // Reducido

        .control-btn-mini {
          width: 28px; // Reducido de 36px
          height: 28px;
          border-radius: 6px; // Reducido de 12px
          border: none;
          background: rgba(17, 138, 178, 0.12); // Más sutil
          color: #118ab2; // Azul
          font-size: 0.9rem; // Reducido de 1.1rem
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.15s ease;

          &:hover {
            background: rgba(17, 138, 178, 0.2);
            transform: translateY(-1px);
          }

          &.control-download-mini {
            background: rgba(230, 57, 70, 0.12); // Rojo
            color: #e63946; // Rojo principal

            &:hover:not(:disabled) {
              background: rgba(230, 57, 70, 0.2);
              transform: translateY(-1px);
            }

            &:disabled {
              opacity: 0.2;
              cursor: not-allowed;
            }
          }
        }

        .volumen-slider-container-mini {
          width: 60px; // Reducido de 80px

          .volumen-slider-mini {
            width: 100%;
            height: 4px; // Reducido de 6px
            background: rgba(68, 68, 68, 0.2); // Más sutil
            border-radius: 2px;
            outline: none;
            cursor: pointer;
            appearance: none;

            &::-webkit-slider-thumb {
              appearance: none;
              width: 10px; // Reducido de 14px
              height: 10px;
              background: #118ab2; // Azul
              border-radius: 50%;
              cursor: pointer;
              border: 1px solid white; // Reducido de 2px
              box-shadow: 0 0 2px rgba(17, 138, 178, 0.3); // Más sutil
            }

            &::-moz-range-thumb {
              width: 10px;
              height: 10px;
              background: #118ab2; // Azul
              border-radius: 50%;
              cursor: pointer;
              border: 1px solid white;
              box-shadow: 0 0 2px rgba(17, 138, 178, 0.3);
            }
          }
        }
      }
    }
  }
}

/* ================================
   ESCRITORIO (≥1024px) - COMPACTO
   ================================ */
@media (min-width: 1024px) {
  .reproductor-header-compacto {
    padding: 0.5rem 0.875rem; // Reducido

    .reproductor-contenido-compacto {
      height: 38px; // Reducido
      gap: 0.875rem; // Ajustado

      .reproductor-controls-left-compacto {
        gap: 0.375rem;

        .control-btn-compacto {
          width: 32px;
          height: 32px;

          &.control-play-compacto {
            width: 36px;
            height: 36px;
            font-size: 1.1rem;
          }
        }
      }

      .reproductor-controls-center-compacto {
        flex: 1;
        max-width: 450px; // Reducido de 500px

        .tiempo-display-compacto {
          font-size: 0.8rem;
          
          .tiempo-actual-compacto,
          .tiempo-total-compacto {
            min-width: 40px;
          }
        }

        .progreso-container-compacto {
          height: 5px;

          .progreso-thumb-compacto {
            width: 11px;
            height: 11px;
          }
        }
      }

      .reproductor-controls-right-compacto {
        gap: 0.625rem;

        .control-btn-mini {
          width: 30px;
          height: 30px;
        }

        .volumen-slider-container-mini {
          width: 65px;
        }
      }
    }
  }
}

/* ================================
   MOBILE (≤767px) - COMPACTO
   ================================ */
@media (max-width: 767px) {
  .reproductor-header-compacto {
    padding: 0.25rem 0.5rem;
    border-radius: 10px;
    margin-top: 0.125rem;

    .reproductor-contenido-compacto {
      flex-direction: column;
      height: auto;
      gap: 0.625rem;
      padding: 0.375rem 0;

      .reproductor-controls-left-compacto {
        order: 1;
        width: 100%;
        justify-content: center;
        gap: 0.375rem;
      }

      .reproductor-controls-center-compacto {
        order: 2;
        width: 100%;

        .tiempo-display-compacto {
          font-size: 0.7rem;
          margin-bottom: 0.125rem;
          
          .tiempo-actual-compacto,
          .tiempo-total-compacto {
            min-width: 35px;
          }
        }

        .progreso-container-compacto {
          height: 4px;
        }
      }

      .reproductor-controls-right-compacto {
        order: 3;
        width: 100%;
        justify-content: center;
        gap: 0.75rem;
        
        .volumen-slider-container-mini {
          width: 50px;
        }
      }
    }
  }
}

/* ================================
   TABLET (768px-1023px) - COMPACTO
   ================================ */
@media (min-width: 768px) and (max-width: 1023px) {
  .reproductor-header-compacto {
    padding: 0.375rem 0.75rem;

    .reproductor-contenido-compacto {
      height: 36px;

      .reproductor-controls-left-compacto {
        gap: 0.25rem;

        .control-btn-compacto {
          width: 28px;
          height: 28px;
          font-size: 0.8rem;

          &.control-play-compacto {
            width: 32px;
            height: 32px;
            font-size: 0.95rem;
          }
        }
      }

      .reproductor-controls-center-compacto {
        .tiempo-display-compacto {
          font-size: 0.7rem;
        }

        .progreso-container-compacto {
          height: 4px;
        }
      }

      .reproductor-controls-right-compacto {
        gap: 0.375rem;

        .control-btn-mini {
          width: 28px;
          height: 28px;
          font-size: 0.8rem;
        }

        .volumen-slider-container-mini {
          width: 55px;
        }
      }
    }
  }
}